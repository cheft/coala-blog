<div>
  {{~data.resource :item}}
  <div class="item" data-id={{!item.id}}>
    <h1 class="title"><a href="#/{{!item.id}}">{{!item.title}}</a></h1>
    <h5 class="title">{{!item.createTime}}</h5>
    <div class="content">{{!item.intro}}</div>
  </div>
  {{~}}
</div>

<script>
  var coala = require('coala')

  module.exports = {
    data: function() {
      return this.fetch()
    },

    listen: {
      update: function() {
        // now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate() + ' ' +
              // now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds()
        this.data.resource.forEach(function(item) {
          item.intro = $(item.contentHTML).text().substr(1, 200)
        })
      }
    },

    mixins: {
      fetch: function() {
        return $.ajax({
          url: '/api/blogs',
          data: {
            '_sort': 'createTime',
            '_order': 'DESC'
          }
        })
      }
    }
  }
</script>

<style>
  body {
    box-sizing: border-box;
    min-width: 200px;
    max-width: 980px;
    margin: 0 auto;
    padding: 45px;
  }

</style>